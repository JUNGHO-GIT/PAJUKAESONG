ServerRoot "/etc/httpd"
Listen 80
ServerAdmin root@34.23.233.23
AddDefaultCharset UTF-8
EnableSendfile on

Include conf.modules.d/*.conf

# 사용자, 그룹 설정
User apache
Group apache

# 로그파일
ErrorLog "logs/error_log"
LogLevel warn

<VirtualHost *:80>
  ServerName junghomun.com
  ServerAlias www.junghomun.com
  DocumentRoot /var/www/html/build

  <Directory /var/www/html/build>
    Options -Indexes +FollowSymLinks
    DirectoryIndex index.html
    AllowOverride All
    Require all granted
    FallbackResource /index.html
  </Directory>

  <Proxy *>
    Require all granted
  </Proxy>
</VirtualHost>

<Directory "/var/www">
  AllowOverride None
  Require all granted
</Directory>

<Directory "/var/www/html">
  Options Indexes FollowSymLinks
  AllowOverride None
  Require all granted
</Directory>

<IfModule dir_module>
  DirectoryIndex index.html
</IfModule>

<Files ".ht*">
  Require all denied
</Files>

<IfModule log_config_module>
  LogFormat "%h %l %u %t \"%r\" %>s %b" common
  LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
  CustomLog "logs/access_log" combined
</IfModule>

<IfModule alias_module>
  ScriptAlias /cgi-bin/ "/var/www/cgi-bin/"
</IfModule>

<Directory "/var/www/cgi-bin">
  AllowOverride None
  Options None
  Require all granted
</Directory>

<IfModule mime_module>
  TypesConfig /etc/mime.types
  AddType application/x-compress .Z
  AddType application/x-gzip .gz .tgz
</IfModule>

<IfModule mime_magic_module>
  MIMEMagicFile conf/magic
</IfModule>

<Directory />
  Options FollowSymLinks
  AllowOverride All
  Require all granted
</Directory>
